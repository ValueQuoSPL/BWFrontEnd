
<div class="container">
    <mat-card style="width: 70%">
        <mat-card-hearder>
            <mat-card-title class="bwaccordtitle bwtitle text-center">Subscription</mat-card-title>
        </mat-card-hearder>
        <mat-card-content>
            <div class="row justify-content-md-center">
                <div class="col-md-8">
                    <form #form action="https://secure.payu.in/_payment" method="POST">
                        <div *ngFor="let payment of paymentDetail">
                            <input type="hidden" name="key" value="{{payment.key}}" />
                            <input type="hidden" name="hash_string" value="{{payment.hashString}}" />
                            <input type="hidden" name="hash" value="{{payment.hash}}" />
                            <input type="hidden" name="txnid" value="{{payment.txnid}}" />
                        </div>
                        <div class="form-group">
                            <div class="row justify-content-center">
                                <div class="col-md-12 form-group">
                                    <mat-form-field style="width: 90%;">
                                        <input matInput [(ngModel)]="user.amount" placeholder="Amount Payable" #amount="ngModel" name="amount" id="amount" readonly>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 form-group">
                                    <mat-form-field style="width: 90%;">
                                        <input matInput [(ngModel)]="user.firstName" placeholder="First Name" #amount="ngModel" name="firstName" id="firstName" required>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-12 form-group">
                                    <mat-form-field style="width: 90%;">
                                        <input matInput jhiNumberOnly placeholder="Mobile Number" id="phone" [(ngModel)]="user.phone" name="phone" #phone="ngModel"
                                            minlength="10" maxlength="10" pattern="^[_'.@A-Za-z0-9-]*$" required>
                                    </mat-form-field>
                                    <div *ngIf="phone.touched && !phone.valid">
                                        <div *ngIf="phone.errors.required">
                                            Mobile Number is required
                                        </div>
                                        <div *ngIf="phone.errors.minlength">
                                            Mobile Number name should be min {{phone.errors.minlength.requiredLength}} char
                                        </div>
                                        <div *ngIf="phone.errors.pattern">
                                            pattern not match
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 form-group">
                                    <mat-form-field style="width: 90%;">
                                        <input matInput placeholder="Email" type="text" id="eMail" [(ngModel)]="user.eMail" name="eMail" #eMail="ngModel" minlength="5"
                                            maxlength="50" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" required email>
                                    </mat-form-field>
                                    <br>
                                    <div *ngIf="eMail.touched && !eMail.valid">
                                        <div *ngIf="eMail.errors.required">
                                            e-Mail is required
                                        </div>
                                        <div *ngIf="eMail.errors.minlength">
                                            e-Mail should be min {{eMail.errors.minlength.requiredLength}} char
                                        </div>
                                        <div *ngIf="eMail.errors.minlength">
                                            e-Mail should be min {{eMail.errors.minlength.requiredLength}} char
                                        </div>
                                        <div *ngIf="eMail.errors.pattern">
                                            e-Mail pattern not match
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-12 form-group">
                                    <mat-form-field style="width: 90%;">
                                        <input matInput [(ngModel)]="user.productInfo" placeholder="Your Plan" #amount="ngModel" name="productInfo" id="productInfo"
                                            readonly>
                                    </mat-form-field>
                                </div>
                                <input type="hidden" name="service_provider" value="payu_paisa" />
                                <input type="hidden" name="surl" [(ngModel)]="sUrl" />

                                <button *ngIf="!disablePaymentButton" class="btn btn-success btn-block col-md-5" style="width: 60%;" (click)="form.submit()">Proceed to Payment</button>
                                <button *ngIf="disablePaymentButton" type="submit" class="btn btn-success btn-block col-md-5" style="width: 60%;"
                                    (click)="submitUser()">Proceed to Checkout</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </mat-card-content>
    </mat-card>
</div>